from PyInstaller.utils.hooks import copy_metadata, collect_data_files, collect_submodules

# 收集streamlit的元数据
datas = copy_metadata('streamlit')
# 添加importlib_metadata的元数据
datas += copy_metadata('importlib_metadata')
# 添加zipp的元数据（importlib_metadata依赖）
datas += copy_metadata('zipp')

# 收集streamlit的数据文件
datas += collect_data_files('streamlit')

# 收集streamlit的所有子模块
hiddenimports = collect_submodules('streamlit')

# 添加其他可能需要的隐藏导入
hiddenimports += ['importlib_metadata', 'zipp', 'streamlit.web.cli']